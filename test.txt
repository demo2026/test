@Component
public class EnvKeyValueStore {

    @Value("${env:}") 
    private String input;

    private final Map<String, String> envMap = new HashMap<>();

    @PostConstruct
    public void init() {
        if (input != null && !input.isEmpty()) {
            String[] pairs = input.split(",");
            for (String pair : pairs) {
                String[] kv = pair.split("=", 2);
                if (kv.length == 2) {
                    envMap.put(kv[0].trim(), kv[1].trim());
                }
            }
        }
    }

    public String getValue(String key) {
        return envMap.get(key);
    }

    public Map<String, String> getAll() {
        return Collections.unmodifiableMap(envMap);
    }
}
